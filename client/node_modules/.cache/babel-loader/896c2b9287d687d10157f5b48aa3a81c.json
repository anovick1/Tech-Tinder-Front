{"ast":null,"code":"var _jsxFileName = \"/Users/jason_mac/GA_SEIR/Unit3/GroupProject/Tech-Tinder-Front/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport './styles/App.css';\nimport React, { useState, useEffect } from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport Home from './pages/Home';\nimport Profile from './pages/Profile';\nimport SignIn from './pages/SignIn';\nimport { GetImagePosts, GetVideoPosts, GetWrittenPosts } from './services/PostServices';\nimport { GetUsers } from './services/UserServices';\nimport { CheckSession } from './services/Auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [users, setUsers] = useState([]);\n  const [posts, setPosts] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [profile, setProfile] = useState(true);\n  const [count, setCount] = useState(0);\n\n  const handleLogOut = () => {\n    //Reset all auth related state and clear localStorage\n    setCurrentUser(null);\n    localStorage.clear();\n  };\n\n  const checkToken = async () => {\n    //If a token exists, sends token to localStorage to persist logged in user\n    const user = await CheckSession();\n    setCurrentUser(user);\n  };\n\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n\n    if (token) {\n      checkToken();\n    }\n  }, []);\n  const allPosts = [];\n\n  const chicken = res => {\n    for (let i = 0; i < res.length; i++) {\n      allPosts.push(res[i]);\n    }\n  };\n\n  useEffect(() => {\n    GetImagePosts().then(res => chicken(res));\n    GetVideoPosts().then(res => chicken(res));\n    GetWrittenPosts().then(res => chicken(res));\n    setPosts(allPosts);\n  }, []);\n  useEffect(() => {\n    GetUsers().then(res => setUsers(res));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(SignIn, {\n            currentUser: currentUser,\n            setCurrentUser: setCurrentUser,\n            users: users,\n            setUsers: setUsers,\n            posts: posts,\n            setPosts: setPosts,\n            count: count,\n            setCount: setCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/home\",\n          element: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Navbar, {\n              currentUser: currentUser,\n              setCurrentUser: setCurrentUser,\n              profile: profile,\n              setProfile: setProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Home, {\n              users: users,\n              posts: posts,\n              setUsers: setUsers,\n              setPosts: setPosts,\n              currentUser: currentUser,\n              setCurrentUser: setCurrentUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/profile\",\n          element: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Navbar, {\n              currentUser: currentUser,\n              setCurrentUser: setCurrentUser,\n              profile: profile,\n              setProfile: setProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Profile, {\n              users: users,\n              posts: posts,\n              setPosts: setPosts,\n              currentUser: currentUser,\n              setCurrentUser: setCurrentUser,\n              profile: profile,\n              setProfile: setProfile\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"590XoJ67lQqLAQkgYrvckTC6gJs=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Route","Routes","Navbar","Home","Profile","SignIn","GetImagePosts","GetVideoPosts","GetWrittenPosts","GetUsers","CheckSession","App","users","setUsers","posts","setPosts","currentUser","setCurrentUser","profile","setProfile","count","setCount","handleLogOut","localStorage","clear","checkToken","user","token","getItem","allPosts","chicken","res","i","length","push","then"],"sources":["/Users/jason_mac/GA_SEIR/Unit3/GroupProject/Tech-Tinder-Front/client/src/App.js"],"sourcesContent":["import './styles/App.css'\nimport React, { useState, useEffect } from 'react'\nimport { Route, Routes } from 'react-router-dom'\nimport Navbar from './components/Navbar'\nimport Home from './pages/Home'\nimport Profile from './pages/Profile'\nimport SignIn from './pages/SignIn'\nimport {\n  GetImagePosts,\n  GetVideoPosts,\n  GetWrittenPosts\n} from './services/PostServices'\nimport { GetUsers } from './services/UserServices'\nimport { CheckSession } from './services/Auth'\n\nfunction App() {\n  const [users, setUsers] = useState([])\n  const [posts, setPosts] = useState([])\n  const [currentUser, setCurrentUser] = useState(null)\n  const [profile, setProfile] = useState(true)\n  const [count, setCount] = useState(0)\n  const handleLogOut = () => {\n    //Reset all auth related state and clear localStorage\n    setCurrentUser(null)\n    localStorage.clear()\n  }\n\n  const checkToken = async () => {\n    //If a token exists, sends token to localStorage to persist logged in user\n    const user = await CheckSession()\n    setCurrentUser(user)\n  }\n  useEffect(() => {\n    const token = localStorage.getItem('token')\n    if (token) {\n      checkToken()\n    }\n  }, [])\n\n  const allPosts = []\n  const chicken = (res) => {\n    for (let i = 0; i < res.length; i++) {\n      allPosts.push(res[i])\n    }\n  }\n  useEffect(() => {\n    GetImagePosts().then((res) => chicken(res))\n    GetVideoPosts().then((res) => chicken(res))\n    GetWrittenPosts().then((res) => chicken(res))\n    setPosts(allPosts)\n  }, [])\n  useEffect(() => {\n    GetUsers().then((res) => setUsers(res))\n  }, [])\n  return (\n    <div>\n      <main>\n        <Routes>\n          <Route\n            path=\"/\"\n            element={\n              <SignIn\n                currentUser={currentUser}\n                setCurrentUser={setCurrentUser}\n                users={users}\n                setUsers={setUsers}\n                posts={posts}\n                setPosts={setPosts}\n                count={count}\n                setCount={setCount}\n              />\n            }\n          />\n          <Route\n            path=\"/home\"\n            element={\n              <>\n                <Navbar\n                  currentUser={currentUser}\n                  setCurrentUser={setCurrentUser}\n                  profile={profile}\n                  setProfile={setProfile}\n                />\n                <Home\n                  users={users}\n                  posts={posts}\n                  setUsers={setUsers}\n                  setPosts={setPosts}\n                  currentUser={currentUser}\n                  setCurrentUser={setCurrentUser}\n                />\n              </>\n            }\n          />\n\n          <Route\n            path=\"/profile\"\n            element={\n              <>\n                <Navbar\n                  currentUser={currentUser}\n                  setCurrentUser={setCurrentUser}\n                  profile={profile}\n                  setProfile={setProfile}\n                />\n                <Profile\n                  users={users}\n                  posts={posts}\n                  setPosts={setPosts}\n                  currentUser={currentUser}\n                  setCurrentUser={setCurrentUser}\n                  profile={profile}\n                  setProfile={setProfile}\n                />\n              </>\n            }\n          />\n        </Routes>\n      </main>\n    </div>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}