{"ast":null,"code":"var _jsxFileName = \"/Users/jason_mac/GA_SEIR/Unit3/GroupProject/Tech-Tinder-Front/client/src/components/WrittenPosts.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { DeleteWrittenPost, GetImagePosts, GetVideoPosts, GetWrittenPosts } from '../services/PostServices';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst WrittenPosts = _ref => {\n  _s();\n\n  let {\n    post,\n    currentUser,\n    newPost,\n    setPosts,\n    posts,\n    setShownPosts\n  } = _ref;\n  const [deletePost, setDeletePost] = useState(false);\n\n  const cancel = () => {\n    setDeletePost(false);\n  };\n\n  const allPosts = [];\n\n  const chicken = res => {\n    for (let i = 0; i < res.length; i++) {\n      allPosts.push(res[i]);\n    }\n  };\n\n  const updateP = async sortPosts => {\n    const p = [];\n\n    for (let i = 0; i < sortPosts.length; i++) {\n      if (parseInt(sortPosts[i].userId) === parseInt(currentUser.id)) {\n        p.push(sortPosts[i]);\n      }\n    }\n\n    await setShownPosts(p);\n  };\n\n  const deletePostClick = async id => {\n    await DeleteWrittenPost(id);\n    await GetImagePosts().then(res => chicken(res));\n    await GetVideoPosts().then(res => chicken(res));\n    await GetWrittenPosts().then(res => chicken(res));\n    const sortPosts = allPosts.slice().sort((a, b) => b.time - a.time);\n    await setPosts(sortPosts);\n    await updateP(sortPosts);\n    setDeletePost(false);\n  };\n\n  return currentUser != null ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bio\",\n      id: \"written-post\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"box-title\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: post.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-text\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: post.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), post.userId === currentUser.id && !newPost ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trashcan-icon\",\n      onClick: () => setDeletePost(true),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://cdn-icons-png.flaticon.com/512/2891/2891491.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : '', deletePost ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Delete\",\n      id: \"deletePost\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Are you sure you?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-buttons\",\n        id: \"delete-btn-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://freeiconshop.com/wp-content/uploads/edd/cross-flat.png\",\n          alt: \"edit\",\n          onClick: () => cancel(),\n          id: \"cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://freeiconshop.com/wp-content/uploads/edd/checkmark-flat.png\",\n          alt: \"edit\",\n          onClick: () => deletePostClick(post.id),\n          id: \"confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this) : '';\n};\n\n_s(WrittenPosts, \"doNFP/iI+zYRhwia/XXt6MdhtYU=\");\n\n_c = WrittenPosts;\nexport default WrittenPosts;\n\nvar _c;\n\n$RefreshReg$(_c, \"WrittenPosts\");","map":{"version":3,"names":["React","useState","DeleteWrittenPost","GetImagePosts","GetVideoPosts","GetWrittenPosts","WrittenPosts","post","currentUser","newPost","setPosts","posts","setShownPosts","deletePost","setDeletePost","cancel","allPosts","chicken","res","i","length","push","updateP","sortPosts","p","parseInt","userId","id","deletePostClick","then","slice","sort","a","b","time","title","text"],"sources":["/Users/jason_mac/GA_SEIR/Unit3/GroupProject/Tech-Tinder-Front/client/src/components/WrittenPosts.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport {\n  DeleteWrittenPost,\n  GetImagePosts,\n  GetVideoPosts,\n  GetWrittenPosts\n} from '../services/PostServices'\nconst WrittenPosts = ({\n  post,\n  currentUser,\n  newPost,\n  setPosts,\n  posts,\n  setShownPosts\n}) => {\n  const [deletePost, setDeletePost] = useState(false)\n  const cancel = () => {\n    setDeletePost(false)\n  }\n  const allPosts = []\n  const chicken = (res) => {\n    for (let i = 0; i < res.length; i++) {\n      allPosts.push(res[i])\n    }\n  }\n  const updateP = async (sortPosts) => {\n    const p = []\n    for (let i = 0; i < sortPosts.length; i++) {\n      if (parseInt(sortPosts[i].userId) === parseInt(currentUser.id)) {\n        p.push(sortPosts[i])\n      }\n    }\n    await setShownPosts(p)\n  }\n  const deletePostClick = async (id) => {\n    await DeleteWrittenPost(id)\n    await GetImagePosts().then((res) => chicken(res))\n    await GetVideoPosts().then((res) => chicken(res))\n    await GetWrittenPosts().then((res) => chicken(res))\n    const sortPosts = allPosts.slice().sort((a, b) => b.time - a.time)\n    await setPosts(sortPosts)\n    await updateP(sortPosts)\n    setDeletePost(false)\n  }\n  return currentUser != null ? (\n    <div className=\"post\">\n      <div className=\"bio\" id=\"written-post\">\n        <div className=\"box-title\">\n          <h2>{post.title}</h2>\n        </div>\n        <div className=\"post-text\">\n          <h4>{post.text}</h4>\n        </div>\n      </div>\n      {post.userId === currentUser.id && !newPost ? (\n        <div className=\"trashcan-icon\" onClick={() => setDeletePost(true)}>\n          <img src=\"https://cdn-icons-png.flaticon.com/512/2891/2891491.png\" />\n        </div>\n      ) : (\n        ''\n      )}\n      {deletePost ? (\n        <div className=\"Delete\" id=\"deletePost\">\n          <div>\n            <h4>Are you sure you?</h4>\n          </div>\n          <div className=\"delete-buttons\" id=\"delete-btn-post\">\n            <img\n              src=\"https://freeiconshop.com/wp-content/uploads/edd/cross-flat.png\"\n              alt=\"edit\"\n              onClick={() => cancel()}\n              id=\"cancel\"\n            />\n            <img\n              src=\"https://freeiconshop.com/wp-content/uploads/edd/checkmark-flat.png\"\n              alt=\"edit\"\n              onClick={() => deletePostClick(post.id)}\n              id=\"confirm\"\n            />\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  ) : (\n    ''\n  )\n}\n\nexport default WrittenPosts\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}