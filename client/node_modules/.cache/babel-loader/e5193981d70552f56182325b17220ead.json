{"ast":null,"code":"var _jsxFileName = \"/Users/jason_mac/GA_SEIR/Unit3/GroupProject/Tech-Tinder-Front/client/src/components/ImagePosts.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { DeleteImagePost, GetImagePosts, GetVideoPosts, GetWrittenPosts } from '../services/PostServices';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ImagePosts = _ref => {\n  _s();\n\n  let {\n    post,\n    currentUser,\n    newPost,\n    setPosts,\n    posts,\n    setShownPosts\n  } = _ref;\n  const [deletePost, setDeletePost] = useState(false);\n\n  const cancel = () => {\n    setDeletePost(false);\n  };\n\n  const allPosts = [];\n\n  const chicken = res => {\n    for (let i = 0; i < res.length; i++) {\n      allPosts.push(res[i]);\n    }\n  };\n\n  console.log(currentUser);\n\n  const updateP = async sortPosts => {\n    const p = [];\n\n    for (let i = 0; i < sortPosts.length; i++) {\n      if (parseInt(sortPosts[i].userId) === parseInt(currentUser.id)) {\n        p.push(sortPosts[i]);\n      }\n    }\n\n    await setShownPosts(p);\n  };\n\n  const deletePostClick = async id => {\n    await DeleteImagePost(id);\n    await GetImagePosts().then(res => chicken(res));\n    await GetVideoPosts().then(res => chicken(res));\n    await GetWrittenPosts().then(res => chicken(res));\n    const sortPosts = allPosts.slice().sort((a, b) => b.time - a.time);\n    await setPosts(sortPosts);\n    await updateP(sortPosts);\n    setDeletePost(false);\n  };\n\n  return currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"post\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"image-post\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"post-image\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: post.img_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"image-text\",\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: post.caption\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), post.userId === currentUser.id && !newPost ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trashcan-icon\",\n      onClick: () => setDeletePost(true),\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://cdn-icons-png.flaticon.com/512/2891/2891491.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this) : '', deletePost ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Delete\",\n      id: \"deletePost\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Are you sure you?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"delete-buttons\",\n        id: \"delete-btn-post\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://freeiconshop.com/wp-content/uploads/edd/cross-flat.png\",\n          alt: \"edit\",\n          onClick: () => cancel(),\n          id: \"cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"https://freeiconshop.com/wp-content/uploads/edd/checkmark-flat.png\",\n          alt: \"edit\",\n          onClick: () => deletePostClick(post.id),\n          id: \"confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }, this) : '']\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this) : 'Test';\n};\n\n_s(ImagePosts, \"doNFP/iI+zYRhwia/XXt6MdhtYU=\");\n\n_c = ImagePosts;\nexport default ImagePosts;\n\nvar _c;\n\n$RefreshReg$(_c, \"ImagePosts\");","map":{"version":3,"names":["React","useState","DeleteImagePost","GetImagePosts","GetVideoPosts","GetWrittenPosts","ImagePosts","post","currentUser","newPost","setPosts","posts","setShownPosts","deletePost","setDeletePost","cancel","allPosts","chicken","res","i","length","push","console","log","updateP","sortPosts","p","parseInt","userId","id","deletePostClick","then","slice","sort","a","b","time","img_url","caption"],"sources":["/Users/jason_mac/GA_SEIR/Unit3/GroupProject/Tech-Tinder-Front/client/src/components/ImagePosts.jsx"],"sourcesContent":["import React, { useState } from 'react'\nimport {\n  DeleteImagePost,\n  GetImagePosts,\n  GetVideoPosts,\n  GetWrittenPosts\n} from '../services/PostServices'\nconst ImagePosts = ({\n  post,\n  currentUser,\n  newPost,\n  setPosts,\n  posts,\n  setShownPosts\n}) => {\n  const [deletePost, setDeletePost] = useState(false)\n  const cancel = () => {\n    setDeletePost(false)\n  }\n  const allPosts = []\n  const chicken = (res) => {\n    for (let i = 0; i < res.length; i++) {\n      allPosts.push(res[i])\n    }\n  }\n  console.log(currentUser)\n  const updateP = async (sortPosts) => {\n    const p = []\n    for (let i = 0; i < sortPosts.length; i++) {\n      if (parseInt(sortPosts[i].userId) === parseInt(currentUser.id)) {\n        p.push(sortPosts[i])\n      }\n    }\n    await setShownPosts(p)\n  }\n  const deletePostClick = async (id) => {\n    await DeleteImagePost(id)\n    await GetImagePosts().then((res) => chicken(res))\n    await GetVideoPosts().then((res) => chicken(res))\n    await GetWrittenPosts().then((res) => chicken(res))\n    const sortPosts = allPosts.slice().sort((a, b) => b.time - a.time)\n    await setPosts(sortPosts)\n    await updateP(sortPosts)\n    setDeletePost(false)\n  }\n  return currentUser ? (\n    <div className=\"post\">\n      <div className=\"image-post\">\n        <div className=\"post-image\">\n          <img src={post.img_url} />\n        </div>\n        <div className=\"image-text\">\n          <h4>{post.caption}</h4>\n        </div>\n      </div>\n      {post.userId === currentUser.id && !newPost ? (\n        <div className=\"trashcan-icon\" onClick={() => setDeletePost(true)}>\n          <img src=\"https://cdn-icons-png.flaticon.com/512/2891/2891491.png\" />\n        </div>\n      ) : (\n        ''\n      )}\n      {deletePost ? (\n        <div className=\"Delete\" id=\"deletePost\">\n          <div>\n            <h4>Are you sure you?</h4>\n          </div>\n          <div className=\"delete-buttons\" id=\"delete-btn-post\">\n            <img\n              src=\"https://freeiconshop.com/wp-content/uploads/edd/cross-flat.png\"\n              alt=\"edit\"\n              onClick={() => cancel()}\n              id=\"cancel\"\n            />\n            <img\n              src=\"https://freeiconshop.com/wp-content/uploads/edd/checkmark-flat.png\"\n              alt=\"edit\"\n              onClick={() => deletePostClick(post.id)}\n              id=\"confirm\"\n            />\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  ) : (\n    'Test'\n  )\n}\n\nexport default ImagePosts\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}